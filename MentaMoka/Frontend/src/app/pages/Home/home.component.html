<div class="w-full max-w-full min-h-screen bg-blancoAlgodon space-y-10 overflow-x-hidden pt-[75px]">
  <section class="relative w-full overflow-hidden bg-white">
    <!-- Imagen de fondo -->
    <div class="absolute inset-0 z-0 bg-cover bg-center bg-no-repeat"
         style="background-image: url('https://www.eatiqbar.com/cdn/shop/articles/hot-coffee-latte-with-latte-art-milk-foam-cup-mug-wood-desk-top-view-as-breakfast-coffee-shop-cafeduring-business-work-concept.jpg?v=1695665318&width=1500');">
    </div>
  
    <!-- Capa oscura -->
    <div class="absolute inset-0 z-10 bg-black/30"></div>
  
    <!-- Ola superior -->
    <svg preserveAspectRatio="none" viewBox="0 0 2000 120" xmlns="http://www.w3.org/2000/svg"
         class="absolute top-0 left-0 w-full h-[100px] z-20">
      <path fill="#FAF9F7" d="M0,0V46.29c99.72,28,203.64,49.06,
               329,49.06,194.93,0,329-54.52,
               503-54.52,156.66,0,268.26,40.19,
               380.76,40.19,187.28,0,370.92-50.07,
               570.6-49.07,125.9.64,248.13,16.34,
               317,36.1V0Z"></path>
    </svg>
  
    <!-- Contenido -->
    <div class="relative z-30 flex items-center justify-start min-h-[360px] sm:min-h-[420px] md:min-h-[500px] px-6 sm:px-10 md:px-20 lg:px-32 pt-10 sm:pt-16 pb-32 text-left">
      <div class="max-w-2xl text-white">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 leading-tight">
          Bienvenido a LinMaD Macchiato
        </h1>
        <p class="text-sm sm:text-base md:text-lg mb-6">
          Disfruta de la mejor experiencia en caf√© con nosotros.
        </p>
        <a href="/productos-clientes"
           class="bg-[#A8BBA1] hover:bg-[#88a58d] text-white font-semibold px-6 py-2 rounded-full transition">
          Explorar
        </a>
      </div>
    </div>
  
    <!-- Ola inferior -->
    <svg preserveAspectRatio="none" viewBox="0 0 2000 120" xmlns="http://www.w3.org/2000/svg"
         class="absolute bottom-0 left-0 w-full h-[100px] z-20">
      <path fill="#FAF9F7" d="M0,120V73.71c99.72-28,203.64-49.06,
               329-49.06,194.93,0,329,54.52,
               503,54.52,156.66,0,268.26-40.19,
               380.76-40.19,187.28,0,370.92,50.07,
               570.6,49.07,125.9-.64,248.13-16.34,
               317-36.1V120Z"></path>
    </svg>
  </section>    
  
  <!-- TOP CATEGOR√çAS -->
  <section class="text-center mb-16 container mx-auto px-4">
    <h2 class="text-3xl font-bold text-[#7C4F34] mb-2">TOP CATEGOR√çAS</h2>
    <p class="text-sm text-gray-600 mb-10">Explora nuestras especialidades de caf√©</p>
  
    <div class="flex flex-wrap justify-center gap-6">
      <div *ngFor="let cat of categories" class="w-72 sm:w-64 md:w-56 lg:w-60 xl:w-64">
        <div class="relative rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300">
          <img [src]="cat.image_url || 'https://via.placeholder.com/300x180?text=Caf√©'"
               alt="{{ cat.name }}"
               class="w-full h-36 object-cover" />
  
          <!-- Overlay de texto -->
          <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col items-center justify-center text-white">
            <h3 class="text-lg font-semibold mb-1">{{ cat.name }}</h3>
            <button class="text-sm text-lime-300 hover:underline" (click)="verCategoria(cat.name)">
              Ver M√°s
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>  

  <!-- TOP CAF√âS -->
  <section class="text-center mb-16 container mx-auto px-4">
    <h2 class="text-3xl font-bold text-[#7C4F34] mb-2">TOP CAF√âS</h2>
    <p class="text-gray-600 text-sm mb-10">Lo m√°s vendido esta semana</p>
  
    <!-- üü§ Carrusel solo en escritorio -->
    <div class="hidden lg:flex keen-slider overflow-hidden justify-center" #productSlider>
      <div class="keen-slider__slide" *ngFor="let prod of topProducts">
        <div class="bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow w-56 mx-2 px-4 py-6 flex flex-col justify-between text-center">
          <img [src]="prod.image_url" alt="{{ prod.name }}" class="h-40 w-full object-cover rounded-lg mb-3" />
          <h3 class="text-sm font-semibold text-gray-800 min-h-[3.5rem] flex items-center justify-center">
            {{ prod.name }}
          </h3>
          <div class="flex justify-center items-center gap-2 mt-2">
            <p class="text-[#A67B5B] font-bold text-sm">
              $ {{ prod.sizes[0].price || prod.price | number:'1.0-0' }}
            </p>
            <button (click)="openModal(prod)"
                    class="text-sm text-white px-3 py-1 rounded-full transition hover:opacity-90"
                    style="background: linear-gradient(to bottom right, #5A3E33, #3A2A25);">
              COMPRAR
            </button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- üü¢ Grilla responsiva para m√≥viles y tablets -->
    <div class="flex lg:hidden flex-wrap justify-center gap-6">
      <div *ngFor="let prod of topProducts" class="w-full sm:w-[47%] md:w-[30%] max-w-xs">
        <div class="bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow px-4 py-6 flex flex-col justify-between text-center">
          <img [src]="prod.image_url" alt="{{ prod.name }}" class="h-40 w-full object-cover rounded-lg mb-3" />
          <h3 class="text-sm font-semibold text-gray-800 min-h-[3.5rem] flex items-center justify-center">
            {{ prod.name }}
          </h3>
          <div class="flex justify-center items-center gap-2 mt-2">
            <p class="text-[#A67B5B] font-bold text-sm">
              $ {{ prod.sizes[0].price || prod.price | number:'1.0-0' }}
            </p>
            <button (click)="openModal(prod)"
                    class="text-sm text-white px-3 py-1 rounded-full transition hover:opacity-90"
                    style="background: linear-gradient(to bottom right, #5A3E33, #3A2A25);">
              COMPRAR
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>  

  <!-- ‚úÖ Modal flotante fuera del *ngFor -->
<div *ngIf="selectedProduct" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md relative">
    <h2 class="text-lg font-bold mb-4 text-center">Personaliza tu bebida</h2>

    <!-- Tama√±o -->
    <label for="size" class="text-sm font-semibold w-full text-left mb-1">Tama√±o:</label>
    <select id="size" [(ngModel)]="selectedSize" required class="w-full p-2 border rounded mb-3">
      <option value="" disabled selected>Selecciona</option>
      <option *ngFor="let s of selectedProduct?.sizes" [value]="s.label">
        {{ s.label | titlecase }} - ${{ s.price }}
      </option>
    </select>

    <!-- Tipo de leche -->
    <label class="text-sm font-semibold w-full text-left mb-1">Tipo de leche:</label>
    <select [(ngModel)]="selectedMilk" class="w-full p-2 border rounded mb-3">
      <option value="">Selecciona</option>
      <option *ngFor="let milk of milks" [value]="milk">{{ milk }}</option>
    </select>

    <!-- Az√∫car -->
    <label class="text-sm font-semibold w-full text-left mb-1">Az√∫car:</label>
    <select [(ngModel)]="selectedSugar" class="w-full p-2 border rounded mb-4">
      <option value="">Selecciona</option>
      <option *ngFor="let sugar of sugars" [value]="sugar">{{ sugar }}</option>
    </select>

    <!-- üîπ Botones de acci√≥n -->
    <div class="flex flex-col sm:flex-row gap-2">
      <button (click)="closeModal()"
              class="bg-gray-200 text-gray-700 py-2 px-4 rounded-md w-full hover:bg-gray-300 transition">
        Cancelar
      </button>

      <button (click)="addToCart()"
              class="bg-verdeSalvia text-white py-2 px-4 rounded-md w-full hover:bg-green-700 transition">
        A√±adir al carrito
      </button>
    </div>
  </div>
</div>

  <!-- OPINIONES DE CLIENTES -->
  <section class="text-center my-16">
    <h2 class="text-3xl font-bold text-[#7C4F34] mb-2">OPINIONES DE CLIENTES</h2>
    <p class="text-gray-600 text-sm mb-10">Lo que dicen nuestros clientes sobre su experiencia</p>
  
    <div class="flex flex-wrap justify-center gap-4 sm:gap-6 px-4">
      <div *ngFor="let op of publicas.slice(0, 5)" class="w-full sm:w-72 md:w-80 bg-white rounded-2xl shadow-md text-left p-5">
        <div class="flex items-center mb-3">
          <img src="data:image/png;base64,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" alt="user-male-circle" class="w-10 h-10 rounded-full mr-3" />
          <div>
            <p class="font-semibold text-[#4A3C2F] text-sm truncate max-w-[200px]">{{ op.correo }}</p>
            <div class="flex text-yellow-500 text-sm">
              <ng-container *ngFor="let _ of [].constructor(op.estrellas)">
                <span>‚òÖ</span>
              </ng-container>
              <ng-container *ngFor="let _ of [].constructor(5 - op.estrellas)">
                <span class="text-gray-300">‚òÖ</span>
              </ng-container>
            </div>
          </div>
        </div>
        <p class="text-sm text-gray-700 italic">"{{ op.comentario }}"</p>
      </div>
    </div>
  
    <div class="mt-16"></div> <!-- Espacio inferior amplio -->
  </section>
  
</div>
